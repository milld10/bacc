\documentclass{main}
\input{titlepage}

\providecommand{\keywords}[1]{\textbf{\textit{Keywords---}} #1}

%------------------------
%	Declaration
%------------------------
\newpage
\subsection*{Statutory Declaration}
\noindent
\textit{
	I declare that I have authored this thesis independently, that I have not used other than the declared sources / resources, and that I have explicitly indicated all material which has been quoted either literally or by content from the sources used. The document uploaded to TUGRAZonline is identical to the present thesis.}
\vspace{1cm}

\subsection*{Eidesstattliche Erklärung}
\noindent
\textit{
	Ich erkläre an Eides statt, dass ich die vorliegende Arbeit selbstständig verfasst, andere als die angegebenen Quellen/Hilfsmittel nicht benutzt, und die den benutzten Quellen wörtlich und inhaltlich entnommenen Stellen als solche kenntlich gemacht habe. Das in TUGRAZonline hochgeladene Dokument ist mit der vorliegenden Arbeit identisch.}

\vspace{2cm}

\noindent
\parbox[top]{4cm}{
	\begin{center}
		\underline{\hspace*{4cm}} \\
		Date/Datum
	\end{center}
}
\hfill
\parbox[top]{6cm}{
	\begin{center}
		\underline{\hspace*{6cm}} \\
		Signature/Unterschrift
	\end{center}
} 
\newpage


%------------------------
%	Abstract
%------------------------
\begin{abstract}
\begin{adjustwidth}{65pt}{65pt}
\vspace{0.5cm}
%consise description what the thesis is about and what its contributions to the field are (what is new). Market the contributions to your readership --> mention all relevant keywords IN THE abstract!
In this paper, we explore a more secure way to share credentials over multiple devices without relying on cloud services. Sensitive data is stored on a mobile phone while accessing them over a secure Bluetooth connection. \\
It features an Android application for mobile phones and a Chrome web extension which uses the Web Bluetooth API for establishing a Bluetooth Low Energy (LE) connection between device and website. The application acts as a peripheral and advertises the data. The web extension serves as the central and reads the data after a successfully established connection. The extension then fills the read data into the login fields of the webpage. \\
To securely store sensitive information on the mobile phone it is encrypted using the symmetric-key algorithm Advanced Encryption Standard (AES) with a 128bit-generated key. The encrypted credentials are then stored using the greenDAO ORM which manages all operations of the database. The generated key lies in the Trusted Execution Environment (TEE) which is handled by the Android KeyStore and represents the most secure option for this project. \\
Assurance of authenticity of the user is reached by making use of biometric identification respectively the user's fingerprint to authenticate the sharing of the credentials.
\vspace{0.5cm} \\
\keywords{\textit{android, password manager, mobile application, aes symmetric encryption, bluetooth low energy, web extension, web bluetooth api}}
\end{adjustwidth}
\end{abstract}




\newpage
%------------------------
%	Table of Contents
%------------------------
\tableofcontents
\newpage

\listoffigures
\vspace{1cm}
\lstlistoflistings

\newpage


%-----------------------------------------------------------------------------------------
%-----------------------------------------------------------------------------------------
%	Begin of Thesis
%-----------------------------------------------------------------------------------------


%------------------------
%	Chapter 0 - Intro
%------------------------
\section*{Introduction} \label{introduction}
%Introduction into the topic; what was made; what are the problems with state of the art technology, generally a description of what was made, more like a story

Nowadays password managers are essential to our everyday lives. Studies show that the average person has up to 20 online accounts [paper]. As shown in [ref:typicalpassword], the average user also does not create particularly safe or hard to remember passwords. Often the same password or some variation of it is reused over multiple different accounts. These passwords are not secure and very vulnerable to attacks. [ref] \\

However, to maintain all account logins, many users rely on password managers to handle it for them. This makes it easier to create and remember multiple passwords, which are different from each other but at the same time equally safe. There are different kinds of password managers. Some store the data locally, for example on a computer or mobile device. This is a safe option to manage credentials but making them accessible throughout different devices can be challenging. In order to make them available on multiple devices, some of those password managers offer the possibility of cloud synchronization. This may be very convenient when working on different devices but not very reliable when it comes to the security of data. The risks are data being corrupted, stolen or wiped. [https://www.bbc.com/news/business-36151754] [paper attack on cloud services]. Then there are password managers that are entirely cloud-based meaning that no data is saved locally on any device and credentials are accessed over a website. Also, some password managers support browser integration which makes passwords accessible through the browser in use. By uploading sensitive data in any form onto the internet, the risk of an attack may increase. [ref] The goal is to store credentials as safely as possible and to make them available on different devices while at the same time without relying on any cloud services. \\

In this project, an Android credential manager is designed that does not store data onto the internet but rather shares them via a secured Bluetooth Low Energy (LE) connection established with a Chrome extension using the Web Bluetooth API [ref web Bluetooth API google link]. The data is stored on the device and only on demand one selected credential pair consisting username and password is shared with the extension at a time. Accessing and sending credentials requires authentication from the user in the form of biometric information or a master password. It is guaranteed that only the owner of the mobile phone can access and share his credentials. The Web Bluetooth API [chome API link] on the other hand receives the data that is sent from the Android application and fills them in into the text fields on the website. Neither is it necessary to type in the credentials manually nor even make them visible. \\ 
%explain more the extension and web Bluetooth API ?? https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web)\\

This paper consists of 8 chapters that are structured as follows: Section \ref{motivation} shows the motivation behind this project, while section \ref{relwork} explains related work that has already been done on this subject. Section \ref{architecture} handles the architecture of the project and presents the topics in detail. Section \ref{seceval} illustrates a brief security evaluation with common criteria, and section \ref{bluetooth} discusses Bluetooth, and it's underlying security. Furthermore, section \ref{limitations} describes the limitations that apply to this project and future work is explained in section \ref{futurework}. Finally, the conclusions are drawn in section \ref{conclusion}.




%------------------------
%	Chapter 1
%------------------------
\section{Motivation} \label{motivation}
The motivation of this project is to provide a safe possibility for mobile phones to store credentials that are available to the user on multiple devices without cloud storage.

%Poster session motivation
There exist many applications that offer the service to store user credentials safely. To synchronize data between multiple devices they rely on cloud services where data confidentiality cannot be guaranteed.
Mobile phones offer a secure way to store data, for example through hardware-backed key storage.
By relying on this technology, we can provide secure data storage for user credentials. 

%------------------------
%	Chapter 2
%------------------------
\section{Related Work} \label{relwork}
papers on similar topics

PWM local w/ possible cloud sync
PWM cloud based 
both types support browser integration

Or just browser itself offers to store credentials for the next time loging into the website.

password managers that rely on cloud services

password managers that are integrated into web service, google pw managaer, firefox, ...

security issues e.g. last pass had leaks in their release.


MAYBE put to related work which decisions we made, which cipher, which encryption method, ...??


%------------------------
% Chapter 3
%------------------------
\section{Architecture of Project} \label{architecture}
%generall description about the technologies used in the project and how they interact, also why I used the technologies (advantages and disadvantages); also insert figures of the app and throughout this chapter more of each specific activity
As mentioned above, we decided to implement an Android application for mobile phones to store sensitive data on it. Since the Chrome browser offers an interface for using Bluetooth LE on the web, we decided to develop a Chrome extension to utilize their Web Bluetooth API. [link] \\

The API initiates the connection upon a button click from the user and searches for BLE devices that are near and offer a specific service that is defined through a UUID, a universally unique identifier. Once paired with the mobile app, the secure Bluetooth connection has been established, and the transmission of data can take place. Upon successful pairing, the extension is allowed to read characteristics that are advertised on the app. The characteristics contain the values of username and password, which the extension inserts directly into the login fields of the website. \\

explain more about web bluetooth api, technical details, and code needed to  work witht the BT api, 

\noindent First, the requirements of the application as well of the extension were defined: \\

\noindent Application requirements:
\begin{itemize}
\item Safe storage of credentials (account name, username, and password)
\item Adding, changing and deleting credentials
\item En- and decryption of data 
\item Authentication through biometric identification
\item Establishing a Bluetooth connection with the web extension
\end{itemize}
\vspace{0.3cm}
\noindent Extension's requirements:
\begin{itemize}
\item Injection of a button onto the website to establish a Bluetooth connection
\item Reading the advertised characteristics
\item Filling credentials into the proper login fields
\end{itemize}


%technical details:
\noindent For convenience purposes, we implemented the application for API level 23 minimum and up using Android Studio as the IDE. To go more into detail about the app, it consists of a MainActivity.java [ref figure 1], which contains four different menu items: \textit{Accounts}, which provides the user with an interface to manage their login accounts; \textit{Connection}, where users can establish the Bluetooth connection and send their login data to the web browser; \textit{Settings} and \textit{About}. We will go more into detail about the functionality of the activities \textit{Accounts} and \textit{Connection}. Subsequently, we will examine how the application handles data storage, encryption, and authentication in greater detail. \\

\begin{figure}[H]
\centering
\includegraphics[width=6cm]{images/MainActivity}
\caption[MainActivity]{MainActivity, which is shown at start up of the app}
\label{fig:mainactivity}
\end{figure}

\subsection{Activity \textit{Accounts}}
By clicking on the menu item \textit{Accounts}, the user is asked to authenticate themselves using biometric information in the form of fingerprint or a master password as seen in figure \ref{fig:authentication}\protect\subref{auth_screen}. Upon successful verification, the interface is shown where the user has an overview of his saved credentials as seen in Figure \ref{fig:accountactivity}\protect\subref{show_acc}. By clicking the floating action button on the bottom right of this interface, the activity is switched to the \textit{AddAccountsActivity}, where the user can add a new login account as seen in Figure \ref{fig:accountactivity}\protect\subref{add_acc}. Here the user types in the website where credentials belong to as well as the username and password itself. Clicking the \textit{SAVE}-button encrypts and adds the credential to the database. \\

When clicked on one of the existing credentials in the list, it takes the user to the interface shown in Figure \ref{fig:accountactivity}\protect\subref{change_acc}.  Here the values can be changed and saved again, or the login account can be deleted from the database. When deleting a credential, the user will be asked via a prompt as seen in Figure \ref{fig:accountactivity}\protect\subref{prompt_delete}.

\begin{figure}[H]
\centering
\subfloat[]{{\includegraphics[width=4cm]{images/ShowAccountsActivity}\label{show_acc} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/AddAccountActivity}\label{add_acc} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/ChangeAccountActivity}\label{change_acc} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/DeleteAccount}\label{prompt_delete} }}
\caption[Activity \textit{Accounts}]{Activity \textit{Accounts}: In \protect\subref{show_acc} it shows the listed accounts after success user authentication. \protect\subref{add_acc} is the interface where the user can add accounts and in \protect\subref{change_acc} the user can change a selected account. \protect\subref{prompt_delete} asks the user before deleting credentials out of the database.}
\label{fig:accountactivity}
\end{figure}



\subsection{Activity \textit{Connection}}
After selecting the menu item \textit{Connection}, the app checks immediately if Bluetooth is enabled and if not it prompts the user to allow turning on Bluetooth on the mobile phone as shown in Figure \ref{fig:connectionactivity}\protect\subref{prompt_bt}.
If the activation is denied, then the application will return to the main activity with an error message saying "\textit{Bluetooth is Not Enabled}" which is shown in Figure \ref{fig:connectionactivity}\protect\subref{bt_notEnabled}. \\

Once Bluetooth is enabled, the accounts, which are available to share over the BLE connection to the web browser, are listed.
At first, the application does not advertise. The user is asked to select an account that he wants to send to the Web Bluetooth API for login as seen in Figure \ref{fig:connectionactivity}\protect\subref{not_advertising}. Before the credentials are shared, the user is asked to authenticate himself again using his fingerprint or his master password. Figure \ref{fig:connectionactivity}\protect\subref{advertising} shows that only after successful authentication the advertising starts and the Web Bluetooth API searches for BLE devices that are near.

\begin{figure}[H]
\centering
\subfloat[]{{\includegraphics[width=4cm]{images/BT_english}\label{prompt_bt} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/BTNotEnabled}\label{bt_notEnabled} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/AvailableAccounts}\label{not_advertising} }}
\qquad
% !!!!!!!!!!!!! change jpg once programming done and working!
\subfloat[]{{\includegraphics[width=4cm]{images/AvailableAccounts}\label{advertising} }}
%\qquad
%\subfloat[Asking the user before deleting the credential out of the database]{{\includegraphics[width=5cm]{images/MainActivity} }}
\caption[Activity \textit{Connection}]{Activity \textit{Connection}: In \protect\subref{prompt_bt} a prompt is shown to the user to enable Bluetooth. When the application is not advertising, \protect\subref{not_advertising} is shown and \protect\subref{advertising} is shown after user selected a credential to send.}
\label{fig:connectionactivity}
\end{figure}




\subsection{Storage of Credentials using the greenDao ORM}
Since the goal is to store user credentials on the phone,  we need a suitable database structure. One option was using a common SQLite database, which is widely used for Android applications. SQLite databases use, as conventional SQL databases, SQL queries to store, retrieve and delete data. SQL queries are vulnerable to security attacks, for example, second-order SQL injections. As stated in [Detection of SQL Injection Attacks] a SQL injection is defined as a method where code is injected. This exploits a security vulnerability in the database layer of an application. It is done by modifying input data which then alters the SQL query. This increases the risk of storing data safely and may lead to a vulnerable application. In [Detection of SQL Injection Attacks] they state that the risk of a SQL injection attack is higher due to multiple reasons, for example, lack of development time and training, or experience and knowledge of potential security issues. \\

For this project, we decided to use an object/relational mapping which handles SQL statements in the SQLite database.
To manage the tasks of storing, deleting, updating and querying a so-called \textit{object/relational mapping} is used to save time and resources. We decided on the greenDAO ORM [ref http://greenrobot.org/greendao/] as it has an overall good performance and saves time because it does not require as much programming effort compared to other frameworks as discussed in [ref greenDAO paper]. \\

Before we started with setting up the database we needed to included the greenDAO plugin into the project. We added a plugin and a dependency to the app module gradle file, and dependency to the top-level build file. [greendao link]\\

Next step was the set up the database. This was done by initializing a DaoSession which is given by a DaoMaster. The DaoMaster was provided from the helper class \lstinline{DevOpenHelper}, which was instantiated in a singleton class of the application as shown in Listing \ref{lst:db_master}.

\begin{lstlisting}[caption=CredentialApplication.java; Creation of database, label=lst:db_master]
DaoMaster.DevOpenHelper helper = 
        new DaoMaster.DevOpenHelper(this,"credentials-db");
Database db = helper.getWritableDb();
daoSession = new DaoMaster(db).newSession();
\end{lstlisting}
\vspace{0.5cm}

The DaoMaster handles the database set up and creates DaoSessions. A DaoSession, on the other hand, manages the DAO object, which refers to the entity that we store into the database. DAO objects are created from a Java class with annotations. We used the class \texttt{Account.java}, which holds four members: a unique id, the website of the credentials, as well as a username and password. To define this class as a database-backed entity, we added the annotation \lstinline{@Entitiy} above the class-header. Furthermore, above each class member, we placed annotations as well to define the column names. Afterward, the greenDAO generator automatically generates the constructors, and instances of the class can now be stored into the greenDAO database. [link greendao]. \\

\subsubsection*{Load, insert and delete a database entry}
As mentioned before, the DaoSession manages DAO objects and they, in turn, handle all operations of the database. With the start of the application, the database is opened, and a new DaoSession is instantiated.
Additionally, we defined a database helper class \texttt{DBHelper.java} where the interactions of DAO objects and the database take place, such as, retrieving all entries or updating a specific one. \\ 
Listing \ref{lst:db_insert} shows an example of how one credential set is inserted into the database. The DaoSession calls the DAO object, and the object handles the insert method to store data into the database. The load and delete methods use the DaoSession as well and are similar to the insert method. \\


\begin{lstlisting}[caption=DBHelper.java; Insert entry into database, label=lst:db_insert]
public void insertNewAccount(Account account) {
    AccountDao accountDao = this.daoSession.getAccountDao();
    accountDao.insert(account);
}
\end{lstlisting}
\vspace{0.5cm}

%talk about encryption mode of greendao?

The database created by the application lies on presistent memory of the mobile device and can only be accessed from our app. In case of an attack even if the database content is dumped, the attacker only receives encrypted data. In the section \ref{arch_encryption} we discuss how data is encrypted before inserting into the database and decrypted again when fetching from it.



\subsection{Encryption of Data}\label{arch_encryption}
%explaining the en and decryption of data, all about choosing a key: all about cipher and algorithm, code lines and android developer cites, modes paddings usw.
For en- and decryption of sensitive data there are some different possibilities. One option of storing passwords is hashing the password and storing that hash instead of the password into the database. Some hash algorithms are SHA256 or SHA512 as mentioned in [Implementation and Performance Analysis of PBKDF2]. But as also stated in the paper, these passwords can be recovered by multiple different attacks such as Brute Force or Dictionary attack.
Another way to store sensitive data is to hash it with a random string of bits, called a \textit{salt}, attached to the plaintext which is then saved with the hash of the password. This can also become vulnerable to the Dictionary Attack as stated in [https 3 wrong ways to store a password].
Nowadays it is common to use a key derivation function to safely store password such as the \textit{password-based key derivation function 2 (PBKDF2)} [ref pbkdf2 secure for passwords]
%explain more about why this is a good encryption scheme and commonly used. do not store the actualy data but the hash of it and hashed are then compared.
One big disadvantage is that the retrieval of data can be quite challenging since the actual data was never stored onto the device.
Another problem which arises is that the strength of the encryption will depend on the password chosen by the user. As mentioned above more than 90\% of users chose a password that is between 6 and 9 characters long, and most of them do not include non-alphabetical characters, meaning it would take less time to retrieve the password through some attack. [ref 3 wrong ways]. Therefore, we need a way to guarantee safe en- and decryption without depending on the user's ability to create a secure password. \\

So for this project we decided to encrypt the data using the AES algorithm with a secret key of 128bit length. 

The algorithm used to generate the secret key is the AES algorithm. The key is used for encryption as well as decryption. explain aes algorithm. We decided to go with a symmetric algorithm for various reasons: the algorithm is much faster than an asymmetric algorithm which makes it less expensive but especially because there is no need for distribution of a public encryption component. All encryption happens in the background on the phone.
As for the mode of the cipher we used a GCM block cipher. explain block cipher, explain gcm: deterministic algorithm, operation on fixed length groups of bits called blocks.
used aes/gcm/no padding, supported from 23 and above, and supports only 12 byte long IVs
change IV so a random string which is created with an own securerandom, explain secure random, link from android website
set that keyspecbuilder takes my own created IV with setting (look up in code) this line to "false". this means that android allowed the usage of an own IV instead of relying on their own, since they think the developer is not secure enough (search link that IV cipher get IV is not secure enough --> book). explicitely set the key to use own secure random as the IV.

after the key is built, can be stored away and is retrieved using an alias. an alias is an identifier that refers to the key that is stored in the TEE. 

%maybe put pieces of console to show what is effectivly store into the data base and how it is retrieved and decrypted again?


\cite{ahmad2013enhancing} \cite{cooijmans2014analysis}


\subsection{Hardware-backed Keystore}
%explaining what it done with the key afterwards, after creation, how can it be safely stored and not revealed, tee never leaves phone and if then it is destroyed, attacker is only left with encrypted dump of DB, without key cannot retrieve plaintext; what is the tee, where is it, how is it managed and is it on every phone? which phones?
As for this project we chose to rely on the hardware-backed Android KeyStore to generate a 256bit key. To create a key that is then used for en- and decrypting data, we implemented an instance of the Android Keystore. In \cite{androidkeystore} it is stated that the Android Keystore provider lets the individual app store and manage its own credentials while making sure no other application can access them. 

the key never leaves the trusted environment and all encryption operations are done in the background.


as mentioned, the key is stored in the Trusted Execution Environment (TEE). The TEE is... paper The TEE is supported by the device manufacturer and represents the most secure option to store the encryption key. the tee is supported by the device. as for all android device that have an qualcomm CPU the tee is supported. paper 

explain hardware-backed keystore, and android keystore, that android with qualcomm cpu implements the tee. securest way to store keys, never leaves the environment (paper)
what does hardware backed mean.
and tee
how does the android keystore play its role, only can use android key store if device is secured. meaning if device is looked using a pattern, lock, etc or fingerprint. if device is not locked then it is easy to retreive the .... what?
lock screen must be set in order to use key.
this is done with the class KeyguardManager. The KeyguardManager ...dev site android cite




\subsection{Authentication through Biometrics}
To securely protect the access and sending of user credential the app uses biometric authentication in the form of fingerprint scanning. The application does not store any biometric user information into the database. Rather, it retrieves the already saved fingerprints on the Android mobile phone. This way it ensures that only the owner of the mobile phone has access to the credentials and the app does not have to handle the storage of any fingerprints. In addition the application also checks if a fingerprint sensor is available on the device and if the permission to use fingerprint scanning is granted from the Android permission system. (maybe ref to chap.6.2 more details about permission system). \\
Before starting authetentication via fingerprint the application makes sure that the lock screen is secured by a PIN, password, pattern or if the SIM card is locked. This is done by the \texttt{KeyguardManager} because if provides access to the lock screen. Only in case of a secured mobile device the authentication process will proceed. \\

The application checks if the saved fingerprints contain the one that the user scanned and returns a successful authentication. Otherwise, it throws an error saying that the authentication failed.  If the phone does support fingerprint scanning, but there are no fingerprints stored on the device, the application returns an error message saying that the user must save at least one fingerprint onto the device. If the phone does not have a fingerprint sensor to support scanning mechanism the user has the option of entering a master password, which is set upon the first usage of the application. 

As mentioned above, upon every request to send an account login the user has to reauthenticate using his fingerprint or a master password before sharing credentials with the Web Bluetooth API. This security mechanism would prohibit unwanted distribution of sensitive data if the user left their phone unattended with the phone unlocked and the application still running.

%insert code listing to see how cipher is created??


\begin{figure}[H]
\centering
\subfloat[]{{\includegraphics[width=4cm]{images/AuthenticationScreen}\label{auth_screen} }}
\qquad
\subfloat[]{{\includegraphics[width=4cm]{images/AuthenticationFailed}\label{auth_fail} }}
\caption[Activity for Authentication]{Activity for Authentication: In \protect\subref{auth_screen} the user is asked to auhenticate themselves using fingerprint or a master password. In \protect\subref{auth_fail} authentication failes if incorrect fingerprint is scanned.}
\label{fig:authentication}
\end{figure}

\subsection{Peripheral and Central roles}
After discussing in depth the credential storage, encryption and the authentication of the user, we will briefly describe the roles of the extension and the Android application.

In common use cases, the Android application has the central role in a Bluetooth LE connection, for example when communicating with Bluetooth LE devices, such as a heart rate monitor or beacon. Therefore, the app serves as the client while the Bluetooth LE device acts as the server, sending data that the application wants to receive.

In this scenario, however, the roles are reversed. The Android app serves as the server, where it advertises the data that the Bluetooth LE extension wants to read. Consequently, the application opens a GATT server to advertise the characteristics and the extension, on the other hand, acts as the client and retrieves those advertised characteristics from the app. The extension implements a GATT service and reads the values from the characteristics, which are the login credentials.

\subsection{Using the Web Bluetooth API with Chrome extension}


%------------------------
% Chapter 4
%------------------------
\section{Security Evaluation with Common Criteria} \label{seceval}
%eher kurz gehalten
see how to conduct a security evalutation of an android app, list all common criteria, maybe make a table??


%------------------------
% Chapter 5
%------------------------
\section{Bluetooth and it's Security} \label{bluetooth}
intro with bluetooth classic and for what it is normally used. large data, consistent connection communication channel. but secure.; paper security about bluetooth classes.
ref section limitations that we cannot use BT classic because of API. we chose ble because of the chrome web bluetooth api.

so we use BLE: what is BLE, how is it differenct from bt classic and for what it is used, list all advantages and how it conributes to this project. general structure of bluetooth low energy, common usage and applications nowadays.
doesnot need much energy, no consistant communication channel less battery. we only advertised upon selection of credentials and once they are sent, the app does not keeps advertising and the user has to select an other credentials and authenticated themselves.
for our purposes ideal but, explain about the protcol stack is built differently compared to bt classes. different protocols makes it more insecure [paper with low energy, come low security]






%------------------------
% Chapter 6
%------------------------
\section{Limitations of Application} \label{limitations}
In this section, some encountered limitations are discussed since they have not been established yet due to necessary technological progress of components or infeasibility. \\

\subsection{Bluetooth LE instead of Bluetooth Classic}
For the connection, we chose Bluetooth LE since the Chrome Web Bluetooth API can only support Bluetooth LE at the moment. Although as mentioned earlier, Bluetooth LE  can limit the security, it can be a task for future work to encrypt the communication channel further by using asymmetric encryption. ??? \\

more about: bluetooth classic on the other is hand is not supported by the Chrome Web Bluetooth API. therefore it was not possible to implement bluetooth classic. ble classic has a more secure protocol stack [paper] but uses a lot of resources. bluetooth classic mainly used for consistant transfer of data rather than a single transfer of small pakets. BT classis is normally used for audio streaming of sending videos, pictures and larger data which is devided into blocks. is it requried to have a persistant communication channel, whereas with our application it is not neccessary to keep the connection for longer time than needed. This make the app more vulnerable to attacks.

\subsection{Security decreases with root privilege}
When the device is rooted, the security of the user credentials cannot be guaranteed anymore. As stated in [oncerootalwaysthreat], the Android permission system is one of the most important security mechanism for protecting critical system resources on Android phones. \\
Before an application can access resources, it needs certain permissions which are granted by the Android permission system. The application asks for permission with check functions and in case of approval the API returns \texttt{PERMISSION\_GRANTED}, or in case of denial, it returns \texttt{PERMISSION\_DENIAL}. \\
Root privilege on an android phone is the highest privilege in user mode and does not need any further permissions from the system to gain access to sensitive data or hardware interfaces, which leads to high risk in security when storing private data. Hence, Android's Shared Preferences and SQLite databases become accessible as mentioned in [Vulnerability Detection in Recent Android Apps]. Therefore, it is not possible for rooted devices to provide a safe possibility to store user credentials. \\


%------------------------
% Chapter 7
%------------------------
\section{Future Work} \label{futurework}
This section presents ideas that could be actualized in the near future once the necessary technology has progressed. These features are not part of the scope of this project and therefore have not been implemented further since they may be quite time-consuming to realize or not possible with start-of-the-art technology. \\


\subsection{Bluetooth Classic instead of Bluetooth Low Energy}
If in the future the API also supports the implementation of Bluetooth classic, maybe switch to BT classic? \\
maybe more secure, no advertising. maybe better for sending back information? --> research

\subsection{Encryption of BLE connection}
Encrypt Bluetooth LE connection of phone and web API with own encryption keys for a safer communication channel. BLE unsafer [ref paper with low energy comes low security], paket sniffer can read out all data in plain text that is sent over a ble connection. \\

\subsection{Encryption of database tables}
Encrypt the tables with bcrypt to provide higher security. although key cannot be retrieved from the TEE to decrypt the data in the database, but to create a safer environment it is possible to decrypt the entire table with scrypt/bcrypt.\\

\subsection{Implementation of password generator}
Implementation of a password generator in the application to increase the convenience for users to create safer passwords. generate passwords that use special characters, letters and numbers and that are more than 20 characters long. \\


\subsection{Creating accounts from the broswer}
Create new login credentials and send them back to the application for storage. not only sending password to the website but also while creating a new account for a website user can select an option to send those newly created credentials back to the application to securely save them on the device. \\






%------------------------
% Chapter 8
%------------------------
\section{Conclusions} \label{conclusion}
Short summery of project, 300-400 words


\newpage

%------------------------
% Resouces
% F11 to build compile again with F1, build again F5
%------------------------

\bibliographystyle{ieeetr}
%put here file name
\bibliography{references}


\end{document}
